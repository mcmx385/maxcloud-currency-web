{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Coding\\\\react\\\\reactjs-currency-converter\\\\src\\\\pages\\\\Currency.js\";\nimport Nav from '../components/Nav';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Line } from 'react-chartjs-2';\nimport { compareDates, pastDate } from '../libraries/datetime';\nimport Dropdown from '../components/Dropdown';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Currency extends Component {\n  // Setup\n  constructor(props) {\n    super(props);\n\n    this.renderAvailable = () => {\n      return Object.keys(this.state.available).map((key, id) => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: key,\n          children: [key, \"(\", this.state.available[key], \")\"]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this);\n      });\n    };\n\n    this.setBase = base => {\n      this.setState({ ...this.state,\n        base: base\n      }, () => {\n        this.updateRate();\n      });\n    };\n\n    this.setTarget = target => {\n      this.setState({ ...this.state,\n        target: target\n      }, () => {\n        this.updateRate();\n      });\n    };\n\n    this.setAmount = amount => {\n      this.setState({ ...this.state,\n        amount: amount !== '' ? parseInt(amount) : ''\n      }, () => this.convert());\n    };\n\n    this.setShowDays = days => {\n      const past_days = compareDates(this.state.end_date, pastDate(1));\n      const start_date = pastDate(parseInt(days) + parseInt(past_days) + 1);\n      this.setState({ ...this.state,\n        show_days: days,\n        start_date\n      }, () => {\n        this.getRateTS();\n      });\n    };\n\n    this.setStartDate = start_date => {\n      if (start_date > this.state.end_date) {\n        this.setState({ ...this.state,\n          start_date: this.state.end_date,\n          end_date: start_date\n        }, () => this.getRateTS());\n      } else {\n        this.setState({ ...this.state,\n          start_date\n        }, () => this.getRateTS());\n      }\n    };\n\n    this.setEndDate = end_date => {\n      if (end_date < this.state.start_date) {\n        this.setState({ ...this.state,\n          end_date: this.state.start_date,\n          start_date: end_date\n        }, () => {\n          this.getRateTS();\n          this.setEndDate(this.state.end_date);\n        });\n      } else {\n        const past_days = compareDates(end_date, pastDate(1));\n        const start_date = pastDate(parseInt(this.state.show_days) + parseInt(past_days) + 1);\n        this.setState({ ...this.state,\n          end_date,\n          start_date\n        }, () => this.getRateTS());\n      }\n    };\n\n    this.convert = () => {\n      this.setState({ ...this.state,\n        result: this.state.rate * this.state.amount\n      });\n    };\n\n    this.onSubmit = e => {\n      if (e) {\n        e.preventDefault();\n      }\n\n      this.convert();\n    };\n\n    this.getRateTS = () => {\n      const url = 'https://api.exchangerate.host/timeseries?start_date=' + this.state.start_date + '&end_date=' + this.state.end_date + '&base=' + this.state.base + '&symbols=' + this.state.target;\n      fetch(url).then(response => response.json()).then(result => {\n        this.setState({ ...this.state,\n          timeSeries: result.rates\n        }, () => this.updateChart());\n      });\n    };\n\n    this.updateChart = () => {\n      const datetime = Object.keys(this.state.timeSeries);\n      const daterate = Object.values(this.state.timeSeries);\n      var arr = [];\n      datetime.map((key, id) => {\n        return arr.push(daterate[id][this.state.target]);\n      });\n      this.setState({ ...this.state,\n        chartData: arr,\n        chartLabel: datetime\n      });\n    };\n\n    this.state = {\n      available: [],\n      base: 'HKD',\n      target: 'USD',\n      rate: 0,\n      timeSeries: [],\n      show_days: 30,\n      start_date: pastDate(31),\n      end_date: pastDate(1),\n      amount: 888,\n      result: 0,\n      isLoading: false,\n      isError: false,\n      chartData: [],\n      chartLabel: []\n    };\n  }\n\n  async componentDidMount() {\n    const response = await fetch('https://openexchangerates.org/api/currencies.json');\n\n    if (response.ok) {\n      const available = await response.json();\n      this.setState({\n        available,\n        isLoading: false\n      }, () => this.updateRate());\n    } else {\n      this.setState({\n        isError: true,\n        isLoading: false\n      });\n    }\n  }\n\n  async updateRate() {\n    const url = 'https://api.exchangerate.host/convert?from=' + this.state.base + '&to=' + this.state.target;\n    const response = await fetch(url);\n\n    if (response.ok) {\n      const result = await response.json();\n      this.setState({ ...this.state,\n        rate: result.result\n      }, () => {\n        this.convert();\n        this.getRateTS();\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        title: \"CurrencyApp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \" Currency Converter \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"\",\n            onSubmit: this.onSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"\",\n                    children: \" Base Currency \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                    name: \"type\",\n                    selected: this.state.base,\n                    onChange: this.setBase,\n                    data: this.state.available\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"\",\n                    children: \" Target Currency \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                    name: \"type\",\n                    selected: this.state.target,\n                    onChange: this.setTarget,\n                    data: this.state.available\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col text-center py-2\",\n                children: [\"Current Rate:\", ' ', this.state.rate && !this.state.isLoading ? this.state.rate : 'Loading...']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"\",\n                    children: \" Amount (From) \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"form-control\",\n                    value: this.state.amount,\n                    onChange: e => this.setAmount(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"\",\n                    children: \" Amount (To) \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"form-control\",\n                    value: this.state.result,\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \" Past Exchange Rate \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  value: this.state.show_days,\n                  onChange: e => this.setShowDays(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-text\",\n                  id: \"basic-addon2\",\n                  children: \"Past Days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            data: {\n              labels: this.state.chartLabel,\n              datasets: [{\n                label: 'Exchange Rate from ' + this.state.base + ' to ' + this.state.target + ' (' + this.state.start_date + ' to ' + this.state.end_date + ') [' + this.state.show_days + ' days]',\n                data: this.state.chartData,\n                fill: false,\n                backgroundColor: 'rgb(255, 99, 132)',\n                borderColor: 'rgba(255, 99, 132, 0.2)'\n              }]\n            },\n            options: {\n              animation: {\n                duration: 0\n              },\n              scales: {\n                yAxes: [{\n                  ticks: {\n                    beginAtZero: true\n                  }\n                }]\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"input-group-text\",\n                    id: \"basic-addon2\",\n                    children: \"Start Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    name: \"start_date\",\n                    className: \"form-control\",\n                    value: this.state.start_date,\n                    onChange: e => this.setStartDate(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"input-group-text\",\n                    id: \"basic-addon2\",\n                    children: \"End Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    name: \"end_date\",\n                    className: \"form-control\",\n                    value: this.state.end_date,\n                    onChange: e => this.setEndDate(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nCurrency.propTypes = {\n  amount: PropTypes.number\n};\nexport default Currency;","map":{"version":3,"sources":["D:/Files/Coding/react/reactjs-currency-converter/src/pages/Currency.js"],"names":["Nav","React","Component","PropTypes","Line","compareDates","pastDate","Dropdown","Currency","constructor","props","renderAvailable","Object","keys","state","available","map","key","id","setBase","base","setState","updateRate","setTarget","target","setAmount","amount","parseInt","convert","setShowDays","days","past_days","end_date","start_date","show_days","getRateTS","setStartDate","setEndDate","result","rate","onSubmit","e","preventDefault","url","fetch","then","response","json","timeSeries","rates","updateChart","datetime","daterate","values","arr","push","chartData","chartLabel","isLoading","isError","componentDidMount","ok","render","value","labels","datasets","label","data","fill","backgroundColor","borderColor","animation","duration","scales","yAxes","ticks","beginAtZero","propTypes","number"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,mBAAhB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,YAAT,EAAuBC,QAAvB,QAAuC,uBAAvC;AACA,OAAOC,QAAP,MAAqB,wBAArB;;;AAEA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAC/B;AACAO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA8BnBC,eA9BmB,GA8BD,MAAM;AACtB,aAAOC,MAAM,CAACC,IAAP,CAAY,KAAKC,KAAL,CAAWC,SAAvB,EAAkCC,GAAlC,CAAsC,CAACC,GAAD,EAAMC,EAAN,KAAa;AACxD,4BACE;AAAQ,UAAA,KAAK,EAAED,GAAf;AAAA,qBACGA,GADH,OACS,KAAKH,KAAL,CAAWC,SAAX,CAAqBE,GAArB,CADT;AAAA,WAAyBC,EAAzB;AAAA;AAAA;AAAA;AAAA,gBADF;AAKD,OANM,CAAP;AAOD,KAtCkB;;AAAA,SAyCnBC,OAzCmB,GAyCRC,IAAD,IAAU;AAClB,WAAKC,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiBM,QAAAA,IAAI,EAAEA;AAAvB,OAAd,EAA6C,MAAM;AACjD,aAAKE,UAAL;AACD,OAFD;AAGD,KA7CkB;;AAAA,SA8CnBC,SA9CmB,GA8CNC,MAAD,IAAY;AACtB,WAAKH,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiBU,QAAAA,MAAM,EAAEA;AAAzB,OAAd,EAAiD,MAAM;AACrD,aAAKF,UAAL;AACD,OAFD;AAGD,KAlDkB;;AAAA,SAmDnBG,SAnDmB,GAmDNC,MAAD,IAAY;AACtB,WAAKL,QAAL,CACE,EAAE,GAAG,KAAKP,KAAV;AAAiBY,QAAAA,MAAM,EAAEA,MAAM,KAAK,EAAX,GAAgBC,QAAQ,CAACD,MAAD,CAAxB,GAAmC;AAA5D,OADF,EAEE,MAAM,KAAKE,OAAL,EAFR;AAID,KAxDkB;;AAAA,SAyDnBC,WAzDmB,GAyDJC,IAAD,IAAU;AACtB,YAAMC,SAAS,GAAG1B,YAAY,CAAC,KAAKS,KAAL,CAAWkB,QAAZ,EAAsB1B,QAAQ,CAAC,CAAD,CAA9B,CAA9B;AACA,YAAM2B,UAAU,GAAG3B,QAAQ,CAACqB,QAAQ,CAACG,IAAD,CAAR,GAAiBH,QAAQ,CAACI,SAAD,CAAzB,GAAuC,CAAxC,CAA3B;AACA,WAAKV,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiBoB,QAAAA,SAAS,EAAEJ,IAA5B;AAAkCG,QAAAA;AAAlC,OAAd,EAA8D,MAAM;AAClE,aAAKE,SAAL;AACD,OAFD;AAGD,KA/DkB;;AAAA,SAgEnBC,YAhEmB,GAgEHH,UAAD,IAAgB;AAC7B,UAAIA,UAAU,GAAG,KAAKnB,KAAL,CAAWkB,QAA5B,EAAsC;AACpC,aAAKX,QAAL,CACE,EACE,GAAG,KAAKP,KADV;AAEEmB,UAAAA,UAAU,EAAE,KAAKnB,KAAL,CAAWkB,QAFzB;AAGEA,UAAAA,QAAQ,EAAEC;AAHZ,SADF,EAME,MAAM,KAAKE,SAAL,EANR;AAQD,OATD,MASO;AACL,aAAKd,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiBmB,UAAAA;AAAjB,SAAd,EAA6C,MAAM,KAAKE,SAAL,EAAnD;AACD;AACF,KA7EkB;;AAAA,SA8EnBE,UA9EmB,GA8ELL,QAAD,IAAc;AACzB,UAAIA,QAAQ,GAAG,KAAKlB,KAAL,CAAWmB,UAA1B,EAAsC;AACpC,aAAKZ,QAAL,CACE,EACE,GAAG,KAAKP,KADV;AAEEkB,UAAAA,QAAQ,EAAE,KAAKlB,KAAL,CAAWmB,UAFvB;AAGEA,UAAAA,UAAU,EAAED;AAHd,SADF,EAME,MAAM;AACJ,eAAKG,SAAL;AACA,eAAKE,UAAL,CAAgB,KAAKvB,KAAL,CAAWkB,QAA3B;AACD,SATH;AAWD,OAZD,MAYO;AACL,cAAMD,SAAS,GAAG1B,YAAY,CAAC2B,QAAD,EAAW1B,QAAQ,CAAC,CAAD,CAAnB,CAA9B;AACA,cAAM2B,UAAU,GAAG3B,QAAQ,CACzBqB,QAAQ,CAAC,KAAKb,KAAL,CAAWoB,SAAZ,CAAR,GAAiCP,QAAQ,CAACI,SAAD,CAAzC,GAAuD,CAD9B,CAA3B;AAGA,aAAKV,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiBkB,UAAAA,QAAjB;AAA2BC,UAAAA;AAA3B,SAAd,EAAuD,MACrD,KAAKE,SAAL,EADF;AAGD;AACF,KApGkB;;AAAA,SAuGnBP,OAvGmB,GAuGT,MAAM;AACd,WAAKP,QAAL,CAAc,EACZ,GAAG,KAAKP,KADI;AAEZwB,QAAAA,MAAM,EAAE,KAAKxB,KAAL,CAAWyB,IAAX,GAAkB,KAAKzB,KAAL,CAAWY;AAFzB,OAAd;AAID,KA5GkB;;AAAA,SA6GnBc,QA7GmB,GA6GPC,CAAD,IAAO;AAChB,UAAIA,CAAJ,EAAO;AACLA,QAAAA,CAAC,CAACC,cAAF;AACD;;AACD,WAAKd,OAAL;AACD,KAlHkB;;AAAA,SAkInBO,SAlImB,GAkIP,MAAM;AAChB,YAAMQ,GAAG,GACP,yDACA,KAAK7B,KAAL,CAAWmB,UADX,GAEA,YAFA,GAGA,KAAKnB,KAAL,CAAWkB,QAHX,GAIA,QAJA,GAKA,KAAKlB,KAAL,CAAWM,IALX,GAMA,WANA,GAOA,KAAKN,KAAL,CAAWU,MARb;AASAoB,MAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESP,MAAD,IAAY;AAChB,aAAKjB,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiBkC,UAAAA,UAAU,EAAEV,MAAM,CAACW;AAApC,SAAd,EAA2D,MACzD,KAAKC,WAAL,EADF;AAGD,OANH;AAOD,KAnJkB;;AAAA,SAoJnBA,WApJmB,GAoJL,MAAM;AAClB,YAAMC,QAAQ,GAAGvC,MAAM,CAACC,IAAP,CAAY,KAAKC,KAAL,CAAWkC,UAAvB,CAAjB;AACA,YAAMI,QAAQ,GAAGxC,MAAM,CAACyC,MAAP,CAAc,KAAKvC,KAAL,CAAWkC,UAAzB,CAAjB;AACA,UAAIM,GAAG,GAAG,EAAV;AACAH,MAAAA,QAAQ,CAACnC,GAAT,CAAa,CAACC,GAAD,EAAMC,EAAN,KAAa;AACxB,eAAOoC,GAAG,CAACC,IAAJ,CAASH,QAAQ,CAAClC,EAAD,CAAR,CAAa,KAAKJ,KAAL,CAAWU,MAAxB,CAAT,CAAP;AACD,OAFD;AAGA,WAAKH,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiB0C,QAAAA,SAAS,EAAEF,GAA5B;AAAiCG,QAAAA,UAAU,EAAEN;AAA7C,OAAd;AACD,KA5JkB;;AAEjB,SAAKrC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXK,MAAAA,IAAI,EAAE,KAFK;AAGXI,MAAAA,MAAM,EAAE,KAHG;AAIXe,MAAAA,IAAI,EAAE,CAJK;AAKXS,MAAAA,UAAU,EAAE,EALD;AAMXd,MAAAA,SAAS,EAAE,EANA;AAOXD,MAAAA,UAAU,EAAE3B,QAAQ,CAAC,EAAD,CAPT;AAQX0B,MAAAA,QAAQ,EAAE1B,QAAQ,CAAC,CAAD,CARP;AASXoB,MAAAA,MAAM,EAAE,GATG;AAUXY,MAAAA,MAAM,EAAE,CAVG;AAWXoB,MAAAA,SAAS,EAAE,KAXA;AAYXC,MAAAA,OAAO,EAAE,KAZE;AAaXH,MAAAA,SAAS,EAAE,EAbA;AAcXC,MAAAA,UAAU,EAAE;AAdD,KAAb;AAgBD;;AACsB,QAAjBG,iBAAiB,GAAG;AACxB,UAAMd,QAAQ,GAAG,MAAMF,KAAK,CAC1B,mDAD0B,CAA5B;;AAGA,QAAIE,QAAQ,CAACe,EAAb,EAAiB;AACf,YAAM9C,SAAS,GAAG,MAAM+B,QAAQ,CAACC,IAAT,EAAxB;AACA,WAAK1B,QAAL,CAAc;AAAEN,QAAAA,SAAF;AAAa2C,QAAAA,SAAS,EAAE;AAAxB,OAAd,EAA+C,MAAM,KAAKpC,UAAL,EAArD;AACD,KAHD,MAGO;AACL,WAAKD,QAAL,CAAc;AAAEsC,QAAAA,OAAO,EAAE,IAAX;AAAiBD,QAAAA,SAAS,EAAE;AAA5B,OAAd;AACD;AACF;;AAsFe,QAAVpC,UAAU,GAAG;AACjB,UAAMqB,GAAG,GACP,gDACA,KAAK7B,KAAL,CAAWM,IADX,GAEA,MAFA,GAGA,KAAKN,KAAL,CAAWU,MAJb;AAKA,UAAMsB,QAAQ,GAAG,MAAMF,KAAK,CAACD,GAAD,CAA5B;;AACA,QAAIG,QAAQ,CAACe,EAAb,EAAiB;AACf,YAAMvB,MAAM,GAAG,MAAMQ,QAAQ,CAACC,IAAT,EAArB;AACA,WAAK1B,QAAL,CAAc,EAAE,GAAG,KAAKP,KAAV;AAAiByB,QAAAA,IAAI,EAAED,MAAM,CAACA;AAA9B,OAAd,EAAsD,MAAM;AAC1D,aAAKV,OAAL;AACA,aAAKO,SAAL;AACD,OAHD;AAID;AACF;;AA6BD2B,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,GAAD;AAAK,QAAA,KAAK,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAM,YAAA,MAAM,EAAC,EAAb;AAAgB,YAAA,QAAQ,EAAE,KAAKtB,QAA/B;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,OAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,0CACE;AAAO,oBAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE,QAAC,QAAD;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,QAAQ,EAAE,KAAK1B,KAAL,CAAWM,IAFvB;AAGE,oBAAA,QAAQ,EAAE,KAAKD,OAHjB;AAIE,oBAAA,IAAI,EAAE,KAAKL,KAAL,CAAWC;AAJnB;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAYE;AAAK,gBAAA,SAAS,EAAC,OAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,0CACE;AAAO,oBAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE,QAAC,QAAD;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWU,MAFvB;AAGE,oBAAA,QAAQ,EAAE,KAAKD,SAHjB;AAIE,oBAAA,IAAI,EAAE,KAAKT,KAAL,CAAWC;AAJnB;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAZF,eAuBE;AAAK,gBAAA,SAAS,EAAC,sBAAf;AAAA,4CACgB,GADhB,EAEG,KAAKD,KAAL,CAAWyB,IAAX,IAAmB,CAAC,KAAKzB,KAAL,CAAW4C,SAA/B,GACG,KAAK5C,KAAL,CAAWyB,IADd,GAEG,YAJN;AAAA;AAAA;AAAA;AAAA;AAAA,sBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eA+BE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,0CACE;AAAO,oBAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AACE,oBAAA,IAAI,EAAC,QADP;AAEE,oBAAA,SAAS,EAAC,cAFZ;AAGE,oBAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWY,MAHpB;AAIE,oBAAA,QAAQ,EAAGe,CAAD,IAAO,KAAKhB,SAAL,CAAegB,CAAC,CAACjB,MAAF,CAASuC,KAAxB;AAJnB;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAYE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,0CACE;AAAO,oBAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AACE,oBAAA,IAAI,EAAC,QADP;AAEE,oBAAA,SAAS,EAAC,cAFZ;AAGE,oBAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWwB,MAHpB;AAIE,oBAAA,QAAQ;AAJV;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/BF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eA2DE;AAAA;AAAA;AAAA;AAAA,kBA3DF,eA4DE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,wCACE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,SAAS,EAAC,cAFZ;AAGE,kBAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWoB,SAHpB;AAIE,kBAAA,QAAQ,EAAGO,CAAD,IAAO,KAAKZ,WAAL,CAAiBY,CAAC,CAACjB,MAAF,CAASuC,KAA1B;AAJnB;AAAA;AAAA;AAAA;AAAA,wBADF,eAOE;AAAM,kBAAA,SAAS,EAAC,kBAAhB;AAAmC,kBAAA,EAAE,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5DF,eA8EE,QAAC,IAAD;AACE,YAAA,IAAI,EAAE;AACJC,cAAAA,MAAM,EAAE,KAAKlD,KAAL,CAAW2C,UADf;AAEJQ,cAAAA,QAAQ,EAAE,CACR;AACEC,gBAAAA,KAAK,EACH,wBACA,KAAKpD,KAAL,CAAWM,IADX,GAEA,MAFA,GAGA,KAAKN,KAAL,CAAWU,MAHX,GAIA,IAJA,GAKA,KAAKV,KAAL,CAAWmB,UALX,GAMA,MANA,GAOA,KAAKnB,KAAL,CAAWkB,QAPX,GAQA,KARA,GASA,KAAKlB,KAAL,CAAWoB,SATX,GAUA,QAZJ;AAaEiC,gBAAAA,IAAI,EAAE,KAAKrD,KAAL,CAAW0C,SAbnB;AAcEY,gBAAAA,IAAI,EAAE,KAdR;AAeEC,gBAAAA,eAAe,EAAE,mBAfnB;AAgBEC,gBAAAA,WAAW,EAAE;AAhBf,eADQ;AAFN,aADR;AAwBE,YAAA,OAAO,EAAE;AACPC,cAAAA,SAAS,EAAE;AACTC,gBAAAA,QAAQ,EAAE;AADD,eADJ;AAIPC,cAAAA,MAAM,EAAE;AACNC,gBAAAA,KAAK,EAAE,CACL;AACEC,kBAAAA,KAAK,EAAE;AACLC,oBAAAA,WAAW,EAAE;AADR;AADT,iBADK;AADD;AAJD;AAxBX;AAAA;AAAA;AAAA;AAAA,kBA9EF,eAqHE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,kBAAf;AAAA,0CACE;AAAM,oBAAA,SAAS,EAAC,kBAAhB;AAAmC,oBAAA,EAAE,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,IAAI,EAAC,YAFP;AAGE,oBAAA,SAAS,EAAC,cAHZ;AAIE,oBAAA,KAAK,EAAE,KAAK9D,KAAL,CAAWmB,UAJpB;AAKE,oBAAA,QAAQ,EAAGQ,CAAD,IAAO,KAAKL,YAAL,CAAkBK,CAAC,CAACjB,MAAF,CAASuC,KAA3B;AALnB;AAAA;AAAA;AAAA;AAAA,0BAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAiBE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,kBAAf;AAAA,0CACE;AAAM,oBAAA,SAAS,EAAC,kBAAhB;AAAmC,oBAAA,EAAE,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,IAAI,EAAC,UAFP;AAGE,oBAAA,SAAS,EAAC,cAHZ;AAIE,oBAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWkB,QAJpB;AAKE,oBAAA,QAAQ,EAAGS,CAAD,IAAO,KAAKJ,UAAL,CAAgBI,CAAC,CAACjB,MAAF,CAASuC,KAAzB;AALnB;AAAA;AAAA;AAAA;AAAA,0BAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBArHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA+JD;;AAhU8B;;AAkUjCvD,QAAQ,CAACqE,SAAT,GAAqB;AACnBnD,EAAAA,MAAM,EAAEvB,SAAS,CAAC2E;AADC,CAArB;AAIA,eAAetE,QAAf","sourcesContent":["import Nav from '../components/Nav'\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Line } from 'react-chartjs-2'\r\nimport { compareDates, pastDate } from '../libraries/datetime'\r\nimport Dropdown from '../components/Dropdown'\r\n\r\nclass Currency extends Component {\r\n  // Setup\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      available: [],\r\n      base: 'HKD',\r\n      target: 'USD',\r\n      rate: 0,\r\n      timeSeries: [],\r\n      show_days: 30,\r\n      start_date: pastDate(31),\r\n      end_date: pastDate(1),\r\n      amount: 888,\r\n      result: 0,\r\n      isLoading: false,\r\n      isError: false,\r\n      chartData: [],\r\n      chartLabel: [],\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n    const response = await fetch(\r\n      'https://openexchangerates.org/api/currencies.json',\r\n    )\r\n    if (response.ok) {\r\n      const available = await response.json()\r\n      this.setState({ available, isLoading: false }, () => this.updateRate())\r\n    } else {\r\n      this.setState({ isError: true, isLoading: false })\r\n    }\r\n  }\r\n  renderAvailable = () => {\r\n    return Object.keys(this.state.available).map((key, id) => {\r\n      return (\r\n        <option value={key} key={id}>\r\n          {key}({this.state.available[key]})\r\n        </option>\r\n      )\r\n    })\r\n  }\r\n\r\n  // Edit fields\r\n  setBase = (base) => {\r\n    this.setState({ ...this.state, base: base }, () => {\r\n      this.updateRate()\r\n    })\r\n  }\r\n  setTarget = (target) => {\r\n    this.setState({ ...this.state, target: target }, () => {\r\n      this.updateRate()\r\n    })\r\n  }\r\n  setAmount = (amount) => {\r\n    this.setState(\r\n      { ...this.state, amount: amount !== '' ? parseInt(amount) : '' },\r\n      () => this.convert(),\r\n    )\r\n  }\r\n  setShowDays = (days) => {\r\n    const past_days = compareDates(this.state.end_date, pastDate(1))\r\n    const start_date = pastDate(parseInt(days) + parseInt(past_days) + 1)\r\n    this.setState({ ...this.state, show_days: days, start_date }, () => {\r\n      this.getRateTS()\r\n    })\r\n  }\r\n  setStartDate = (start_date) => {\r\n    if (start_date > this.state.end_date) {\r\n      this.setState(\r\n        {\r\n          ...this.state,\r\n          start_date: this.state.end_date,\r\n          end_date: start_date,\r\n        },\r\n        () => this.getRateTS(),\r\n      )\r\n    } else {\r\n      this.setState({ ...this.state, start_date }, () => this.getRateTS())\r\n    }\r\n  }\r\n  setEndDate = (end_date) => {\r\n    if (end_date < this.state.start_date) {\r\n      this.setState(\r\n        {\r\n          ...this.state,\r\n          end_date: this.state.start_date,\r\n          start_date: end_date,\r\n        },\r\n        () => {\r\n          this.getRateTS()\r\n          this.setEndDate(this.state.end_date)\r\n        },\r\n      )\r\n    } else {\r\n      const past_days = compareDates(end_date, pastDate(1))\r\n      const start_date = pastDate(\r\n        parseInt(this.state.show_days) + parseInt(past_days) + 1,\r\n      )\r\n      this.setState({ ...this.state, end_date, start_date }, () =>\r\n        this.getRateTS(),\r\n      )\r\n    }\r\n  }\r\n\r\n  // Update actions\r\n  convert = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      result: this.state.rate * this.state.amount,\r\n    })\r\n  }\r\n  onSubmit = (e) => {\r\n    if (e) {\r\n      e.preventDefault()\r\n    }\r\n    this.convert()\r\n  }\r\n  async updateRate() {\r\n    const url =\r\n      'https://api.exchangerate.host/convert?from=' +\r\n      this.state.base +\r\n      '&to=' +\r\n      this.state.target\r\n    const response = await fetch(url)\r\n    if (response.ok) {\r\n      const result = await response.json()\r\n      this.setState({ ...this.state, rate: result.result }, () => {\r\n        this.convert()\r\n        this.getRateTS()\r\n      })\r\n    }\r\n  }\r\n  getRateTS = () => {\r\n    const url =\r\n      'https://api.exchangerate.host/timeseries?start_date=' +\r\n      this.state.start_date +\r\n      '&end_date=' +\r\n      this.state.end_date +\r\n      '&base=' +\r\n      this.state.base +\r\n      '&symbols=' +\r\n      this.state.target\r\n    fetch(url)\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        this.setState({ ...this.state, timeSeries: result.rates }, () =>\r\n          this.updateChart(),\r\n        )\r\n      })\r\n  }\r\n  updateChart = () => {\r\n    const datetime = Object.keys(this.state.timeSeries)\r\n    const daterate = Object.values(this.state.timeSeries)\r\n    var arr = []\r\n    datetime.map((key, id) => {\r\n      return arr.push(daterate[id][this.state.target])\r\n    })\r\n    this.setState({ ...this.state, chartData: arr, chartLabel: datetime })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Nav title=\"CurrencyApp\" />\r\n        <div className=\"container p-4\">\r\n          <div className=\"card p-4\">\r\n            <h3> Currency Converter </h3>\r\n            <form action=\"\" onSubmit={this.onSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"\"> Base Currency </label>\r\n                    <Dropdown\r\n                      name=\"type\"\r\n                      selected={this.state.base}\r\n                      onChange={this.setBase}\r\n                      data={this.state.available}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"\"> Target Currency </label>\r\n                    <Dropdown\r\n                      name=\"type\"\r\n                      selected={this.state.target}\r\n                      onChange={this.setTarget}\r\n                      data={this.state.available}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col text-center py-2\">\r\n                  Current Rate:{' '}\r\n                  {this.state.rate && !this.state.isLoading\r\n                    ? this.state.rate\r\n                    : 'Loading...'}\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"\"> Amount (From) </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      value={this.state.amount}\r\n                      onChange={(e) => this.setAmount(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"\"> Amount (To) </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      value={this.state.result}\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* <Button bgcolor=\"success\" submit={true} text=\"Convert\" /> */}\r\n            </form>\r\n            <hr />\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <h3> Past Exchange Rate </h3>\r\n              </div>\r\n              <div className=\"col\">\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    value={this.state.show_days}\r\n                    onChange={(e) => this.setShowDays(e.target.value)}\r\n                  />\r\n                  <span className=\"input-group-text\" id=\"basic-addon2\">\r\n                    Past Days\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Line\r\n              data={{\r\n                labels: this.state.chartLabel,\r\n                datasets: [\r\n                  {\r\n                    label:\r\n                      'Exchange Rate from ' +\r\n                      this.state.base +\r\n                      ' to ' +\r\n                      this.state.target +\r\n                      ' (' +\r\n                      this.state.start_date +\r\n                      ' to ' +\r\n                      this.state.end_date +\r\n                      ') [' +\r\n                      this.state.show_days +\r\n                      ' days]',\r\n                    data: this.state.chartData,\r\n                    fill: false,\r\n                    backgroundColor: 'rgb(255, 99, 132)',\r\n                    borderColor: 'rgba(255, 99, 132, 0.2)',\r\n                  },\r\n                ],\r\n              }}\r\n              options={{\r\n                animation: {\r\n                  duration: 0,\r\n                },\r\n                scales: {\r\n                  yAxes: [\r\n                    {\r\n                      ticks: {\r\n                        beginAtZero: true,\r\n                      },\r\n                    },\r\n                  ],\r\n                },\r\n              }}\r\n            />\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <div className=\"form-group\">\r\n                  <div className=\"input-group mb-3\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon2\">\r\n                      Start Date\r\n                    </span>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"start_date\"\r\n                      className=\"form-control\"\r\n                      value={this.state.start_date}\r\n                      onChange={(e) => this.setStartDate(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col\">\r\n                <div className=\"form-group\">\r\n                  <div className=\"input-group mb-3\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon2\">\r\n                      End Date\r\n                    </span>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"end_date\"\r\n                      className=\"form-control\"\r\n                      value={this.state.end_date}\r\n                      onChange={(e) => this.setEndDate(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nCurrency.propTypes = {\r\n  amount: PropTypes.number,\r\n}\r\n\r\nexport default Currency\r\n"]},"metadata":{},"sourceType":"module"}